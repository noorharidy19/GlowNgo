<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="css/admin.css">
    <body class="bodyy">
        <header class="myElement">
            <a href="#" class="logo" ><img src="images/logo.jpeg" width="180" height="80"></a>
            <span class="search">
                <input type="text" placeholder="Search">
                <i class="fa-solid fa-search"></i>
            </span>
            <nav class="navigation">
              <label class="switch">
                <input type="checkbox" id="dark-mode-toggle" onchange="toggleDarkMode();">
                <span class="slider round"></span>
                <i class="fa-regular fa-moon"></i>
              </label>
                <a href="Home.html" class="nav1">Home</a>
                <a href="Products.html" class="nav1">Products</a>
                <a href="About.html" class="nav1">About</a>
                <a href="myprofile.html" class="nav1"><i class="fa-solid fa-user"></i></a>
                <div id="overlay" style="display: none;"></div>
                <a href="#" class="nav1" title="shopping cart" onclick="showPopup(['CART'])"><i class="fa-solid fa-cart-shopping"></i></a>  
                <a href="#"class="nav1" title="Wishlist" onclick="showPopup(['WISHLIST'])"><i class="fa-solid fa-heart"></i></i></a>
    
            </nav>
        </header>
        <section class="Products">
            <div class="prod">
                
        <div class="shopp">
            <h2 class="prd">All Products</h2>
            <a href="allproducts.html"><img src="images/all.jpg" alt="Makeup img" width="318" height="300"></a>   
           
        </div>
     <div class="shopp">
        <h2 class="fac">Face</h2>
            <a href="face.html"><img src="images/face.jpg" alt="Makeup img" width="318" height="300"></a> 
    
     </div>
     <div class="shopp">
        <h2 class="ey">Eyes</h2>
            <a href="Eyes.html"><img src="images/eye.jpg" alt="Makeup img" width="318" height="300"></a> 
    
     </div>
     <div class="shopp">
        <h2 class="lipss">Lips</h2>
        <a href="lip.html"><img src="images/lips.jpg" alt="Makeup img" width="318" height="300"></a> 
     </div>
     <div class="shopp">
        <h2 class="brows">Brows</h2>
        <a href="brow.html"><img src="images/brows.jpg" alt="Makeup img" width="318" height="300"></a> 
     </div>
     <div class="shopp">
        <h2 class="tools">Tools</h2>
        <a href="tools.html"><img src="images/tools1.jpg" alt="Makeup img" width="318" height="300"></a> 
     </div>
    </div>
     
      
     </section>
       <!-- --------------------------------CART------------------------------------ -->
       <div class="CART " id="CART">
        <h2 class="pcart"> Your Cart&nbsp; <i class="fa-solid fa-bag-shopping"></i></i>  </h2>
       
        <div class="popupp">
            <span class="close-btn" onclick="hidePopup(['CART'])">&times;</span>
            <div class="product-display">
              <img src="images/fentycon.jpg" alt="Concelar img" width="218" height="200" class="imgg" id="c">
              <img src="images/con2.jpg" alt="Concelar img" width="218" height="200" class="imgg" id="c1">
              <div class="product1">
                <h3>Fenty Beauty Concealer</h3>
                <h3>Price: <span id="price1">30.00</span>$   Quantity: <span id="quantity1">1</span></h3>
                <div class="circle-container">
                  <img class="circle-image" src="images/fentycon.jpg" alt="Description of image" onclick="showShade(['c'],['imgg'])">
                  <img class="circle-image" src="images/con2.jpg" alt="Description of image" onclick="showShade(['c1'],['imgg'])">
                </div>
                <button type="button" class="remove" onclick="changeQuantity(-1, 'quantity1', 'price1')">-</button>
                <button type="button" class="add" onclick="changeQuantity(1, 'quantity1', 'price1')">+</button>
                
              </div>
            </div>
            <div class="product-display">
              <img src="images/bronzerkiko.jpg" alt="Bronzer img" width="218" height="200" class="imggg" id="br1">
              <img src="images/bronz1.jpg" alt="Bronzer img" width="218" height="200" class="imggg" id="b">
              <div class="product1">
                <h3>Kiko Bronzer</h3>
                <h3>Price: <span id="price2">20.00</span>$   Quantity: <span id="quantity2">1</span></h3>
                <div class="circle-container">
                    <img class="circle-image" src="images/bronzerkiko.jpg" alt="Description of image" onclick=" showShade(['br1'],['imggg'])">
                    <img class="circle-image" src="images/bronz1.jpg" alt="Description of image" onclick=" showShade(['b'],['imggg']) ">
                    </div>
                    <button type="button" class="remove" onclick="changeQuantity(-1, 'quantity2', 'price2')">-</button>
                    <button type="button" class="add" onclick="changeQuantity(1, 'quantity2', 'price2')">+</button>
                    
              </div>
            </div>
            <div class="product-display">
              <img src="images/benetint.jpg" alt="Lipstick img" width="218" height="200" class="imgggg" id="r1">
              <img src="images/tintshade.jpg" alt="Lipstick img" width="218" height="200" class="imgggg" id="r2">
              <div class="product1">
                <h3>Benetint</h3>
                <h3>Price: <span id="price3">24.00</span>$   Quantity: <span id="quantity3">1</span></h3>
                <div class="circle-container">
                    <img class="circle-image" src="images/benetint.jpg" alt="Description of image" onclick=" showShade(['r1'],['imgggg']) ">
                    <img class="circle-image" src="images/tintshade.jpg" alt="Description of image" onclick=" showShade(['r2'],['imgggg']) ">
                    </div>
                    <button type="button" class="remove" onclick="changeQuantity(-1, 'quantity3', 'price3')">-</button>
                    <button type="button" class="add" onclick="changeQuantity(1, 'quantity3', 'price3')">+</button>
              </div>
            </div>
            <div class="total">
                <h3>Total: <span id="total"></span>$</h3>
            </div>
            <div class="checkout">
                <button type="button" onclick="window.location.href = 'checkout.html'">Procced to Check Out</button>
              </div>
          
    
        </div>
    </div>
        <!-- --------------------------------WISHLIST------------------------------------ -->
    <div class="WISHLIST " id="WISHLIST">
      <h2 class="pcart"> Your Wishlist&nbsp; <i class="fa-regular fa-heart"></i>  </h2>
      <div class="popupp">
          <span class="close-btn" onclick="hidePopup(['WISHLIST'])">&times;</span>
          <div class="product-display">
            <img src="images/rareprimer.jpeg" alt="Concelar img" width="218" height="200" class="imgg1" id="c2">
            <img src="images/rareshadeprimer.jpg" alt="Concelar img" width="218" height="200" class="imgg1" id="c12">
            <div class="product1">
              <h3>Rare Beauty Primer</h3>
              <h3>Price: <span id="price1">21.00</span>$</h3>
              <div class="circle-container">
                <img class="circle-image" src="images/rareprimer.jpeg" alt="Description of image" onclick="showShade(['c2'],['imgg1'])">
                <img class="circle-image" src="images/rareshadeprimer.jpg" alt="Description of image" onclick="showShade(['c12'],['imgg1'])">
              </div>
              <button type="button" class="re">Remove</button>
              <button type="button" class="ad">Add to Cart</button>
              
            </div>
          </div>
          <div class="product-display">
            <img src="images/spongefanty.jpg" alt="Bronzer img" width="218" height="200" class="imggg" id="br1">
            <div class="product1">
              <h3>Feanty Beauty Blender</h3>
              <h3>Price: <span id="price2">24.00</span>$</h3>
              <br>
              <br>
                  <button type="button" class="re">Remove</button>
                  <button type="button" class="ad">Add to Cart</button>
                  
            </div>
          </div>
          <div class="product-display">
            <img src="images/kikogel.jpg" alt="Lipstick img" width="218" height="200" class="imgggg2" id="r12">
            <img src="images/gelshade.jpg" alt="Lipstick img" width="218" height="200" class="imgggg2" id="r22">
            <div class="product1">
              <h3>Kiko Eyebrow Gel</h3>
              <h3>Price: <span id="price3">15.00</span>$</span></h3>
              <div class="circle-container">
                  <img class="circle-image" src="images/kikogel.jpg" alt="Description of image" onclick=" showShade(['r12'],['imgggg2']) ">
                  <img class="circle-image" src="images/gelshade.jpg" alt="Description of image" onclick=" showShade(['r22'],['imgggg2']) ">
                  </div>
                  <button type="button" class="re">Remove</button>
                  <button type="button" class="ad">Add to Cart</button>
            </div>
          </div>
          <div class="ADD">
              <button type="button" onclick="">ADD PRODUCT</button>
              <button type="button" onclick="">ADD ALL TO CART</button>
            </div>
    
      </div>
    </div>
       
    </body>
    </html>
    <!-- <link rel="stylesheet" href="StyleProd.css"> -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <title>Products</title>
    <script src="js/admin.js"></script>
    
</head>
<body class="bodyy">
    
        <!-- <header class="myElement">
            <a href="#" class="logo" ><img src="images/logo.jpeg" width="180" height="80" ></a>
            
        <!-- <span class="search">
            <input type="text" placeholder="Search">
            <i class="fa-solid fa-search"></i>
        </span> -->
            <!-- <nav class="navigation">
                <label class="switch">
                    <input type="checkbox" id="dark-mode-toggle" onchange="toggleDarkMode();">
                    <span class="slider round"></span>
                    <i class="fa-regular fa-moon"></i>
                  </label>
                <a href="Home.html" class="nav1">Home</a>
                <a href="Products.html" class="nav1">Products</a>
                <a href="MyAccount.html" class="nav1"><i class="fa-solid fa-user"></i></a>
            </nav>
        </header>-->
        <%- include('partials/navAdmin') %>
        
        <!-- <div id="mySidenav" class="sidenav">
        <a href="/adminProducts" id="Products">Products<i class="fa-solid fa-cart-shopping"></i></a>
        <a href="/user" id="Users">Users&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<i class="fas fa-users"></i></a>
        <a href="/orders" id="Orders">Orders&nbsp;&nbsp;&nbsp;&nbsp;<i class="fa-solid fa-basket-shopping"></i></a>
        </div> -->
        <h1 class="Products">Products</h1>
        <div id="overlay" style="display: none;"></div>
        <div class="buttons-container">
            <button onclick="showModal(['Add-container'])" class="But">Add</button>
        </div>

        <% if (products && products.length > 0) { %>
            <table class="prod">
                <thead>
                    <tr>
                        <th>ID</th>
                        <th>Image</th>
                        <th>Name</th>
                        <th>Price</th>
                        <th>Category</th>
                        <th>Quantity</th>
                        <th>Shades</th>
                        <th>Action</th>
                    </tr>
                </thead>
                <tbody>
                    <% products.forEach(product => { %>
                        <tr>
                            <td class="text"><%= product._id %></td>
                            <td class="text"><img class="product-image" src="../images/<%= product.Image %>" width="150" height="150"></td>
                            <td class="text"><%= product.name %></td>
                            <td class="text"><%= product.price %>$</td>
                            <td class="text"><%= product.category %></td>
                            <td class="text"><%= product.quantity %></td>
                            <td class="text">
                                <img class="circle-image" src="../images/<%= product.Shade %>" alt="Shade Image">
                            </td>
                            <td class="text">
                                <button onclick="showModal(['Edit-container'])" class="But">Edit</button>
                            <button onclick="showModal(['Remove-container'])" class="But">Remove</button>
                            </td>
                        </tr>
                    <% }) %>
                </tbody>
            </table>
        <% } else { %>
            <p>There are no products to display...</p>
        <% } %>
        
    
    

    <div class="Add-container" id="Add-container">
        <div class="add-content">
            <span class="close" onclick="closeModal(['Add-container'])">&times;</span>
            <h2 style="color:rgb(211, 170, 170)" class="adduser">Add Product </h2>
            <form action="/addProduct" method="post" onsubmit="return validationForm();" id="n1"  enctype="multipart/form-data">
    <div class="formprod">
        <label class="label-field2" for="image">Product Image:</label>
        <input type="file" name="productImage" class="input-field2" id="productImage">
        <div class="error" id="imageError"></div>

    </div> 
    <div class="formprod">
        <label class="label-field2" for="name">Product Name:</label>
        <input type="text" name="productName" placeholder="Enter Product Name" class="input-field2" id="productName">
        <div class="error" id="nameError"></div>
    </div>
    <div class="formprod">
        <label class="label-field2" for="price">Product Price:</label>
        <input type="text" name="productPrice" placeholder="Enter Product Price" class="input-field2" id="productPrice">
        <div class="error" id="priceError"></div>
    </div>
    <div class="formprod">
        <label class="label-field2" for="category">Product Category:</label>
        <select name="productCategory" class="input-field2" id="productCategory">
            <option value="">Select Product Category</option>
            <option value="Face">Face</option>
            <option value="Eyes">Eyes</option>
            <option value="Lips">lips</option>
            <option value="Brows">Brows</option>
            <option value="Tools">Tools</option>
        </select>
        <div class="error" id="categoryError"></div>
    </div>
    <div class="formprod">
        <label class="label-field2" for="quantity">Product Quantity:</label>
        <input type="text" name="productQuantity" placeholder="Enter Product Quantity" class="input-field2" id="productQuantity">
        <div class="error" id="quantityError"></div>
    </div>
    <!-- <div class="formprod">
        <label class="label-field2">Product Description:</label>
        <input type="text" name="productDescription" placeholder="Enter Product Description" class="input-field2" id="productDescription">
        <div class="error" id="descriptionError"></div>
    </div>
    <div class="formprod">
        <label class="label-field2">How To Use:</label>
        <input type="text" name="howToUse" placeholder="Enter How To Use" class="input-field2" id="howToUse">
        <div class="error" id="howToUseError"></div>
    </div> -->
    <div class="formprod">
        <label class="label-field2" for="shades">Product Shades:</label>
        <input type="file" name="productShades" placeholder="Enter Product Shades" class="input-field2" id="productShade">
        <div class="error" id="shadesError"></div>
    </div>
    <div class="form-group">
        <input type="submit" value="Submit" class="submit-btn">
        
    </div>
  
</form>
    </div>
    </div>
    <div class="Edit-container" id="Edit-container">
        <div class="edit-content">
            <span class="close" onclick="closeModal(['Edit-container'])">&times;</span>
            <h2 style="color:rgb(211, 170, 170)" class="adduser">Edit Product</h2>
            <!-- <% products.forEach(product => { %> -->
            <form action="/edit/<%= product._id %>?_method=PUT" method="post">
                <div class="formprod">
                    <label class="label-field2">Product Name:</label>
                    <input type="text" name="name" placeholder="<%= product.name %>" class="input-field2">
                    <% if (locals.errors && locals.errors.length > 0) { %>
                        <% locals.errors.forEach(error => { %>
                            <% if (error.param === 'name') { %>
                                <p class="error-message"><%= error.msg %></p>
                            <% } %>
                        <% }) %>
                    <% } %>
                </div>
                <div class="formprod">
                    <label class="label-field2">Product Price:</label>
                    <input type="text" name="price" placeholder="<%= product.price %>" class="input-field2">
                    <% if (locals.errors && locals.errors.length > 0) { %>
                        <% locals.errors.forEach(error => { %>
                            <% if (error.param === 'price') { %>
                                <p class="error-message"><%= error.msg %></p>
                            <% } %>
                        <% }) %>
                    <% } %>
                </div>
                <div class="formprod">
                    <label class="label-field2">Product Quantity:</label>
                    <input type="text" name="quantity" placeholder="<%= product.quantity %>" class="input-field2">
                    <% if (locals.errors && locals.errors.length > 0) { %>
                        <% locals.errors.forEach(error => { %>
                            <% if (error.param === 'quantity') { %>
                                <p class="error-message"><%= error.msg %></p>
                            <% } %>
                        <% }) %>
                    <% } %>
                </div>
                <div class="formprod">
                    <label class="label-field2">Product Category:</label>
                    <select name="category" class="input-field2" placeholder="<%= product.category%>">
                        <option value="Face" <%= product.category === 'Face' ? 'selected' : '' %>>Face</option>
                        <option value="Eyes" <%= product.category === 'Eyes' ? 'selected' : '' %>>Eyes</option>
                        <option value="Lips" <%= product.category === 'Lips' ? 'selected' : '' %>>Lips</option>
                        <option value="Brows" <%= product.category === 'Brows' ? 'selected' : '' %>>Brows</option>
                        <option value="Tools" <%= product.category === 'Tools' ? 'selected' : '' %>>Tools</option>
                    </select>
                    <% if (locals.errors && locals.errors.length > 0) { %>
                        <% locals.errors.forEach(error => { %>
                            <% if (error.param === 'category') { %>
                                <p class="error-message"><%= error.msg %></p>
                            <% } %>
                        <% }) %>
                    <% } %>
                </div>
                <button type="submit" class="But">Edit</button>
            </form>
            <!-- <% }) %> -->
        </div>
    </div>
    <div class="Remove-container" id="Remove-container">
        <div class="remove">
            <span class="close" onclick="closeModal(['Remove-container'])">&times;</span>
            <h2 style="color:rgb(211, 170, 170)" class="adduser">Remove Product</h2>
            <% products.forEach(product => { %>
            <form onsubmit="return validationFormRemove();" action="/delete/<%= product._id %>?_method=DELETE" method="post">
                <h2>Are you sure you want to delete the product?</h2>
                <!-- <div class="form-group1">
                    <div>
                        <input type="radio" id="Yes3" name="confirmation" value="yes" class="input-radio" for="yes">
                        <label for="Yes3">Yes</label>
                    </div>
                    <div>
                        <input type="radio" id="No3" name="confirmation" value="no" class="input-radio" for="no">
                        <label for="No3">No</label>
                    </div>
                </div>
                <div class="error" id="RadioProductsError"></div> -->
                <div class="form-group">

                        <div>
                                <button type="submit" class="But">Remove Product <%= product._id %></button>
                            
                        </div>
                    
                </div>
            </form>
            <% }) %>
        </div>
    </div>
    

</body>
</html>
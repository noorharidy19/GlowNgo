<html>
    <head>
        <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="css/StyleProd.css">
    <link rel="stylesheet" href="css/nav.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
<script src="js/Prod.js"></script>
    <title>Brows</title>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">
    </head>
<body>
    <%- include('partials/nav') %>
    <section class="brow">
        <select class="sortt" id="sortSelect" onchange="x(this.value, 'brandOptions', 'browprod')">
            <option>Select</option>
            <option>A-Z</option>
            <option>Z-A</option>
            <option>BY BRAND</option>
            <option>By price(LOWER->HIGHER)</option>
            <option>By price(HIGHER->LOWER)</option>
        </select>
        <select id="brandOptions" style="display: none;">
            <option>Select</option>
            <option value="kiko">Kiko</option>
            <option value="rarebeauty">Rare Beauty</option>
            <option value="maybeline">Maybeline</option>
        </select>
        <div class="browprod">
            <% products.forEach(product => { %>
            <div class="AllProducts">
                <div class="container">
                    <img src="../images/<%= product.Image %>" alt="Makeup img" width="318" height="300" class="imggel">
                    <h2 class="eye"><%= product.name %></h2>
                    <h3 class="eye"><%= product.price %> $</h3>
                    <h4 class="<%= product.stockStatus === 'In Stock' ? 'in-stock' : 'out-of-stock' %>"><%= product.stockStatus %></h4>
                    <div class="middle">
                        <div class="text" onclick="showPopup('<%= product._id %>')"><i class="fa-solid fa-cart-shopping" title="Add To Cart"></i></div>
                        <div id="overlay" style="display: none;"></div>
                        <div class="text" onclick="showPopup('<%= product._id %>')"><i class="fa-sharp fa-solid fa-eye" title="View more"></i></div>
                        <div class="text" onclick=""><i class="fa-solid fa-heart" title="Add To Whishlist"></i></div>
                    </div>
                </div>
            </div>
            <% }); %>
        </div>

        <% products.forEach(product => { %>
            <div class="Products-window" id="popup-<%= product._id %>">
                <h2 class="p1"> <%= product.name %> <span class="price"><%= product.price %> $</span> </h2>
                <div class="popup">
                    <span class="close-btn" onclick="hidePopup('<%= product._id %>')">&times;</span>
                    <div class="image-container">
                        <img src="../images/<%= product.Image %>" alt="Makeup img" width="320" height="300" class="hide1" id="shadee-<%= product._id %>">
                        <div class="circle-container">
                            <img class="circle-image" src="../images/<%= product.Shade %>" alt="Description of image" onclick="showShade('shadee-<%= product._id %>')">
                        </div>
                    </div>
                    <div>
                        <h1 class="btn1" id="b1-<%= product._id %>" onclick="showDescription('<%= product._id %>')">Description</h1>
                        <h1 class="btn2" id="b2-<%= product._id %>" onclick="showUsage('<%= product._id %>')">How to use</h1>
                        <div id="description-<%= product._id %>" class="description-content"><%= product.description %></div>
                        <div id="usage-<%= product._id %>" class="usage-content"><%= product.usage %></div>
                    </div>
                    <div class="rev">
                        <h1 class="o">ADD TO <i class="fa-solid fa-cart-shopping" title="cart" style="color:rgb(222, 128, 128)"></i>
                            <i class="fa-regular fa-heart" title="wishlist" style="color:rgb(222, 128, 128)"></i>
                        </h1>
                    </div>
                </div>
            </div>
            <% }); %>
    </section>


<style>
    .in-stock {
    color: green;
    text-align: center;
}

.out-of-stock {
    color: red;
    text-align: center;
}
</style>
<script>
     function showPopup(id) {
            document.getElementById('popup-' + id).style.display = 'block';
        }

        function hidePopup(id) {
            document.getElementById('popup-' + id).style.display = 'none';
        }

        function showDescription(id) {
            document.getElementById('description-' + id).style.display = 'block';
            document.getElementById('usage-' + id).style.display = 'none';
        }

        function showUsage(id) {
            document.getElementById('usage-' + id).style.display = 'block';
            document.getElementById('description-' + id).style.display = 'none';
        }

        function showShade(imageId) {
            document.getElementById(imageId).style.display = 'block';
        }
        function showDescription(id) {
    var darkMode = localStorage.getItem('darkMode') === 'true';
    var descriptionElement = document.getElementById('description-' + id);
    var usageElement = document.getElementById('usage-' + id);
    var btn1Element = document.getElementById('b1-' + id);
    var btn2Element = document.getElementById('b2-' + id);

    descriptionElement.style.display = "inline-block";
    usageElement.style.display = "none";
    btn1Element.style.backgroundColor = darkMode ? "darkgray" : "pink";
    btn2Element.style.backgroundColor = darkMode ? "whitesmoke" : "whitesmoke";
}

function showUsage(id) {
    var darkMode = localStorage.getItem('darkMode') === 'true';
    var descriptionElement = document.getElementById('description-' + id);
    var usageElement = document.getElementById('usage-' + id);
    var btn1Element = document.getElementById('b1-' + id);
    var btn2Element = document.getElementById('b2-' + id);

    usageElement.style.display = "inline-block";
    descriptionElement.style.display = "none";
    btn2Element.style.backgroundColor = darkMode ? "darkgray" : "pink";
    btn1Element.style.backgroundColor = darkMode ? "whitesmoke" : "whitesmoke";
}


</script>







</html>